<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patch Notes</title>
    <link rel="icon" href="icon.png" type="image/png">
    <style>
        /* Styles pour le mode clair (déjà défini) */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #444;
            cursor: pointer;
            margin: 0;
        }
        .note-list {
            margin: 20px 0;
            padding: 0;
            list-style-type: none;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .note-list.open {
            max-height: 1000px;
        }
        .note-list li {
            margin-bottom: 10px;
            padding: 10px;
            background: #f9f9f9;
            border-left: 5px solid #007bff;
        }
        .back-button {
            display: inline-block;
            margin: 20px 0;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
        }
        .back-button:hover {
            background-color: #0056b3;
        }

        /* Styles pour le mode sombre */
        .dark-theme body {
            background-color: #333;
            color: #ddd;
        }
        .dark-theme .container {
            background: #444;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        .dark-theme h1 {
            color: #ddd;
        }
        .dark-theme .note-list li {
            background: #555;
            border-left: 5px solid #1e90ff;
        }
        .dark-theme .back-button {
            background-color: #1e90ff;
            color: #fff;
        }
        .dark-theme .back-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="version-110">Note de mise à jour - Version 1.1.0</h1>
        <ul id="notes-110" class="note-list">
            <li><strong>Corrections :</strong>
                <ul>
                    <li>Correction des nombreux bugs liés au mode sombre, garantissant désormais un affichage correct sur toutes les pages.</li>
                    <li>Correction de l'affichage des points dans la boutique et la page d'améliorations, qui présentaient des nombres décimaux.</li>
                </ul>
            </li>
            <li><strong>Ajouts :</strong>
                <ul>
                    <li>Le mode sombre est désormais pleinement fonctionnel sur la page des retours ainsi que sur la nouvelle page de vérification des mises à jour.</li>
                    <li>Ajout d'une nouvelle page dans les paramètres pour vérifier la disponibilité des mises à jour.</li>
                </ul>
            </li>
            <li><strong>Modifications :</strong>
                <ul>
                    <li>Révision des numéros de version : le premier chiffre pour les mises à jour majeures, le second pour les correctifs importants, et le troisième pour les petites améliorations.</li>
                    <li>Les petites mises à jour peuvent désormais être téléchargées et installées en quelques secondes directement depuis les paramètres.</li>
                    <li>Pour les mises à jour majeures, l'application redirige vers la version navigateur du jeu. Pensez à sauvegarder vos données avant de réinstaller l'application sur l'écran d'accueil.</li>
                    <li>Amélioration de l'intégration et de l'optimisation du mode standalone pour une installation fluide sur l'écran d'accueil sans la barre de navigation.</li>
                </ul>
            </li>
            <li><strong>Autres ajustements :</strong>
                <ul>
                    <li>Autres ajustements mineurs et améliorations diverses.</li>
                </ul>
            </li>
        </ul>

        <h1 id="version-1023">Note de mise à jour - Version 1.023</h1>
        <ul id="notes-1023" class="note-list">
            <li><strong>Modifications :</strong>
                <ul>
                    <li>Suppression des boutons « Importer/Sauvegarder » et « Contacter le développeur » sur la page d’accueil.</li>
                    <li>Ajout d’une page « Paramètres » comprenant les boutons « Sauvegarder », « Importer » et « Contacter le développeur ». La page offre également la possibilité de mettre le jeu en mode sombre ou clair (clair par défaut). Cette fonctionnalité est en bêta et peut ne pas fonctionner correctement ou avoir un affichage peu pratique, rendant la lecture difficile.</li>
                </ul>
            </li>
            <li><strong>Conseil :</strong>
                <p>Pour utiliser l’application depuis l’écran d’accueil de votre appareil, il est impératif de sélectionner l’option "Partager" lors de l’introduction du jeu. Dans le cas contraire, le jeu pourrait ne pas s'afficher correctement et les mises à jour ne seront pas effectuées automatiquement.</p>
            </li>
        </ul>

        <h1 id="version-1021">Note de mise à jour - Version 1.021</h1>
        <ul id="notes-1021" class="note-list">
            <li><strong>Correctif :</strong>
                <ul>
                    <li>Correction de l’affichage des points dans la boutique du jeu et dans la section amélioration, qui affichait des nombres décimaux.</li>
                </ul>
            </li>
            <li><strong>Ajouts :</strong>
                <ul>
                    <li>Affichage du logo du jeu lors du lancement de l'application.</li>
                    <li>Le jeu peut désormais être ajouté à l'écran d'accueil de l'appareil en utilisant l'option "Ajouter à l'écran d'accueil" depuis le menu de partage de Safari sur iOS. Sur Android, cette fonctionnalité peut varier en fonction de l'appareil.</li>
                </ul>
            </li>
        </ul>

        <h1 id="version-102">Note de mise à jour - Version 1.02</h1>
        <ul id="notes-102" class="note-list">
            <li><strong>Ajouts :</strong>
                <ul>
                    <li>Ajout d'une boutique d'objets avec deux offres : 
                        <ul>
                            <li><strong>Double XP x3</strong> : double l'XP pour les trois prochaines parties, coût : 30 points.</li>
                            <li><strong>Double XP MAX</strong> : double l'XP pour les cinq prochaines parties, coût : 45 points.</li>
                        </ul>
                    </li>
                    <li>Ajout de l'affichage des paliers de récompenses avec les trophées dans la section <strong>Mes stats</strong>, sous <strong>Nombre de trophées</strong>.</li>
                    <li>Ajout d'un événement quotidien, <strong>Double XP</strong> : double la quantité d'XP gagnée pendant les cinq premières parties de la journée (après 9 heures).</li>
                    <li>Ajout d'un système de points, gagnés à chaque partie. Ces points peuvent être utilisés pour améliorer un personnage ou acheter des objets dans la boutique.</li>
                </ul>
            </li>
            <li><strong>Modifications :</strong>
                <ul>
                    <li>Refonte du système d'amélioration des personnages : il est désormais nécessaire d'aller dans <strong>Personnages</strong>, puis <strong>Amélioration</strong>. Le bouton <strong>Amélioration</strong> clignote en rouge lorsque suffisamment d'XP est disponible. Lorsqu'il y a assez de points et d'XP, un indicateur rouge apparaît à côté du personnage concerné.</li>
                    <li>Les améliorations des personnages nécessitent désormais des points en plus de l'argent : 25 points supplémentaires par niveau par rapport à la version précédente.</li>
                    <li>Refonte du système d’XP : l’XP est maintenant calculé en fonction du niveau et des PV restants du personnage si le joueur gagne la partie. Si le joueur perd, l'XP est déterminé uniquement par le niveau (l'XP diminue avec l'augmentation du niveau).</li>
                </ul>
            </li>
            <li><strong>Corrections et améliorations :</strong>
                <ul>
                    <li>Corrections de bugs mineurs.</li>
                    <li>Amélioration des performances du jeu.</li>
                </ul>
            </li>
        </ul>

        <a href="menu_principal.html" class="back-button">Retour</a>
    </div>
    <script>
      function getUserData() {
        const userData = JSON.parse(localStorage.getItem('userData'));
        if (userData && userData.theme) {
          document.body.classList.add('dark-theme');
        }
        return userData;
      }
      getUserData();
      document.addEventListener('DOMContentLoaded', function() {
            const versions = document.querySelectorAll('h1');

            versions.forEach(version => {
                version.addEventListener('click', function() {
                    const notesId = `notes-${this.id.split('-').pop()}`;
                    const notes = document.getElementById(notesId);

                    if (!notes) {
                        console.error(`Élément avec l'id ${notesId} non trouvé.`);
                        return;
                    }

                    if (notes.classList.contains('open')) {
                        notes.classList.remove('open');
                    } else {
                        document.querySelectorAll('.note-list.open').forEach(openList => {
                            openList.classList.remove('open');
                        });
                        notes.classList.add('open');
                    }
                });
            });
        });
    </script>
</body>
</html>
